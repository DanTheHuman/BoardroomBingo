<!DOCTYPE html>
<html lang="en">
<head>
  <title>Boardroom Bingo</title>
  <style>
    @import url('https://fonts.googleapis.com/css?family=Roboto&display=swap');
    body {
      font-family: 'Roboto', sans-serif;
      font-size: 16px;
      background: var(--light-color);
      margin: 20px;
    }

    .wrapper{
      display:grid;
      grid-template-columns:1fr 2fr 1fr;
      grid-auto-rows:minmax(100px, auto);
      grid-gap:1em;
      justify-items:stretch;
      align-items:stretch;
    }

    .wrapper > div{
      background:#eee;
      padding:1em;
    }
    .wrapper > div:nth-child(odd){
      background:#ddd;
    }

    .nested{
      display:grid;
      grid-template-columns:repeat(5, 1fr);
      grid-auto-rows: 70px;
      grid-gap:1em;
    }

    .nested > div{
      border:#333 1px solid;
      padding:1em;
    }

    .box1{
      /*align-self:start;*/
      grid-column:1/4;
      grid-row:1;
    }

    .box2{
      /*align-self:end;*/
      grid-column:1;
      grid-row:2;
    }

    .box3{
      /*justify-self:end;*/
      grid-column:2;
      grid-row:2;
      border:1px solid #333;
    }

    .box4{
      grid-column:3;
      grid-row:2;
      
    }
/*
    .tile {
			width: 80px;
			height: 80px;
			margin: 0px;
			padding: 0px;
			float: center;
			background-color: white;
			border: 1px solid black;
		}
*/
  </style>
</head>


<body>
  <div class="wrapper">
    <div class="box box1">
      <h1>Boardroom Bingo</h1>
      <button>Join Game</button>
      <button>Start Game</button>
      <button>Admin</button>

    </div>
    <div class="box box2">
      <h3>Scoreboard</h3>
      <table> 
        <td id="playerList">
          
        </td>
      </table>



    </div>
    <div class="box box3">
      <div id="board" class="nested">
        <div id=0 class="tile" onclick="scratch(this)">Tile</div>
        <div id=1 class="tile" onclick="scratch(this)">Tile</div>
        <div id=2 class="tile" onclick="scratch(this)">Tile</div>
        <div id=3 class="tile" onclick="scratch(this)">Tile</div>
        <div id=4 class="tile" onclick="scratch(this)">Tile</div>
        <div id=5 class="tile" onclick="scratch(this)">Tile</div>
        <div id=6 class="tile" onclick="scratch(this)">Tile</div>
        <div id=7 class="tile" onclick="scratch(this)">Tile</div>
        <div id=8 class="tile" onclick="scratch(this)">Tile</div>
        <div id=9 class="tile" onclick="scratch(this)">Tile</div>
        <div id=10 class="tile" onclick="scratch(this)">Tile</div>
        <div id=11 class="tile" onclick="scratch(this)">Tile</div>
        <div id=12 class="tile" onclick="scratch(this)">Tile</div>
        <div id=13 class="tile" onclick="scratch(this)">Tile</div>
        <div id=14 class="tile" onclick="scratch(this)">Tile</div>
        <div id=15 class="tile" onclick="scratch(this)">Tile</div>
        <div id=16 class="tile" onclick="scratch(this)">Tile</div>
        <div id=17 class="tile" onclick="scratch(this)">Tile</div>
        <div id=18 class="tile" onclick="scratch(this)">Tile</div>
        <div id=19 class="tile" onclick="scratch(this)">Tile</div>
        <div id=20 class="tile" onclick="scratch(this)">Tile</div>
        <div id=21 class="tile" onclick="scratch(this)">Tile</div>
        <div id=22 class="tile" onclick="scratch(this)">Tile</div>
        <div id=23 class="tile" onclick="scratch(this)">Tile</div>
        <div id=24 class="tile" onclick="scratch(this)">Tile</div>
      </div>


    </div>
    <div class="box box4">Chat</div>
  </div>
</body>

<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
  
    var socket = io();
   
    
    //client listening for "welcomeMsg" so that it can do stuff
    socket.on('welcomeMsg',function(data){
      console.log(data.msg);
      alert(data.msg);
    });
  
    socket.on('wordList',function(data){
      console.log(data.words);
      var csv = [];
      for(i=0; i<data.words.length; i++){
        csv[i] = data.words[i];
        document.getElementById(i.toString()).textContent = csv[i];
  
      }
    })
  
    
    //Create a table with scores
    socket.on('updateScoreList',function(data){
      //import the scores into an array 
      var players = '';
      for(i=0;i<data.length;i++){
        players += `<tr>Player #${data[i].number} : ${data[i].score}</tr><br>`;
      }
      document.getElementById("playerList").innerHTML = players;
    });
    
  
    //Change the color of a tile to red and scoreUp
    function scratch(divObj) {
      divObj.style.background="#FF0000";
      socket.emit('scoreUp',{
        amount:1
      });
    }
  
</script>

</html>
